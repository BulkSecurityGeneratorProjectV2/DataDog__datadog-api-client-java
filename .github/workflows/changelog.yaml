name: "Ensure labels"
on: # yamllint disable-line rule:truthy
  pull_request:
    types:
      - assigned
      - unassigned
      - labeled
      - unlabeled
      - opened
      - edited
      - closed
      - reopened
      - synchronize
      - ready_for_review
      - review_requested
      - review_request_removed

jobs:
  changelog:
    runs-on: ubuntu-latest
    steps:
      - name: Check changelog labels
        if: false == contains(join(github.event.pull_request.labels.*.name, ','), 'changelog/')
        run: |-
          echo "::error Add 'changelog/*' label";
          exit 1;
      - name: OK
        run: echo "Thank you!"
